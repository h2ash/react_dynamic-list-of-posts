(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(9),c=n.n(s),o=n(1),i=n.n(o),u=n(2),l=n(3),m=n(4),h=n(6),d=n(5),f=n(7),p=function(e){var t=e.isLoading,n=e.getData;return r.a.createElement("button",{className:"button__posts",onClick:n},t?"Loading...":"Load posts")},v=function(e){var t=e.user;return r.a.createElement("div",{className:"article__author"},"author: ",t.name,"email: ",t.email,"from: ",t.address.city)},b=function(e){var t=e.currentComment;return r.a.createElement("div",null,r.a.createElement("div",{className:"comment__author"},t.email),r.a.createElement("div",{className:"comment__body"},t.body))},E=function(e){var t=e.currentComments;return r.a.createElement("div",null,r.a.createElement("h5",null,"Comments:"),t.map(function(e){return r.a.createElement(b,{currentComment:e,key:e.id})}))},w=function(e){var t=e.showCommentsFunc,n=e.showComments;return r.a.createElement("button",{onClick:t},n?"Hide comments":"Show comments")},y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showComments:!1},n.showCommentsFunc=function(){n.setState(function(e){return{showComments:!0!==e.showComments}})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"article"},r.a.createElement("h2",{className:"article__title"},this.props.currentPost.title),r.a.createElement("section",{className:"article__body"},this.props.currentPost.body)," ",r.a.createElement("br",null),r.a.createElement(v,{user:this.props.currentPost.user}),r.a.createElement(w,{showCommentsFunc:this.showCommentsFunc,showComments:this.state.showComments}),this.state.showComments&&r.a.createElement(E,{currentComments:this.props.currentPost.comments}))}}]),t}(r.a.Component),C=function(e){e.currentPosts;var t=e.inputValue,n=e.searchByFilter,a=e.filteredPosts;return r.a.createElement("div",null,r.a.createElement("label",{className:"search",htmlFor:""},"Search:",r.a.createElement("input",{className:"search__field",value:t,onChange:n,type:"text"})),a.map(function(e){return r.a.createElement(y,{currentPost:e,key:e.id})}))},j=n(10),P=Object(u.a)(i.a.mark(function e(){var t,n,a,r,s,c,o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://jsonplaceholder.typicode.com/",e.next=3,fetch("".concat(t,"posts"));case 3:return n=e.sent,e.next=6,fetch("".concat(t,"users"));case 6:return a=e.sent,e.next=9,fetch("".concat(t,"comments"));case 9:return r=e.sent,e.next=12,n.json();case 12:return s=e.sent,e.next=15,a.json();case 15:return c=e.sent,e.next=18,r.json();case 18:return o=e.sent,u=s.map(function(e){return Object(j.a)({},e,{user:c.find(function(t){return t.id===e.userId}),comments:o.filter(function(t){return e.id===t.postId})})}),e.abrupt("return",u);case 21:case"end":return e.stop()}},e)})),g=(n(18),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentPosts:[],isLoading:!1,isLoaded:!1,inputValue:"",filteredPosts:[]},n.getData=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,P();case 3:t=e.sent,n.setState({currentPosts:t,filteredPosts:t,isLoading:!1,isLoaded:!0});case 5:case"end":return e.stop()}},e)})),n.searchByFilter=function(e){var t=e.target.value;n.setState(function(e){return{inputValue:t,filteredPosts:e.currentPosts.filter(function(e){return e.title.includes(t)||e.body.includes(t)})}})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"site__title"},"Dynamic list of posts"),this.state.isLoaded?r.a.createElement(C,{currentPosts:this.state.currentPosts,inputValue:this.state.inputValue,searchByFilter:this.searchByFilter,filteredPosts:this.state.filteredPosts}):r.a.createElement(p,{isLoading:this.state.isLoading,getData:this.getData}))}}]),t}(r.a.Component));c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.b3be659b.chunk.js.map