(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),c=n.n(s),o=n(10),i=n(6),u=n.n(i),l=n(11),m=n(9),d=n(1),h=n(2),p=n(4),f=n(3),E=n(5),b=function(e){var t=e.isLoading,n=e.getData;return r.a.createElement("button",{className:"button__posts",onClick:n},t?"Loading...":"Load posts")},v=function(e){var t=e.user;return r.a.createElement("div",{className:"article__author"},"author: ",t.name,"email: ",t.email,"from: ",t.address.city)},y=function(e){var t=e.currentComment;return r.a.createElement("div",null,r.a.createElement("div",{className:"comment__author"},t.email),r.a.createElement("div",{className:"comment__body"},t.body))},j=function(e){var t=e.currentComments;return r.a.createElement("div",null,r.a.createElement("h5",null,"Comments:"),t.map(function(e){return r.a.createElement(y,{currentComment:e})}))},w=function(e){var t=e.showCommentsFunc;return r.a.createElement("button",{onClick:t},"Show comments")},C=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={showComments:!1},n.showCommentsFunc=function(){n.setState({showComments:!0})},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"article"},r.a.createElement("h2",{className:"article__title"},this.props.currentPost.title),r.a.createElement("section",{className:"article__body"},this.props.currentPost.body)," ",r.a.createElement("br",null),r.a.createElement(v,{user:this.props.currentPost.user}),this.state.showComments?r.a.createElement(j,{currentComments:this.props.currentPost.comments}):r.a.createElement(w,{showCommentsFunc:this.showCommentsFunc}))}}]),t}(r.a.Component),P=function(e){e.currentPosts;var t=e.inputValue,n=e.searchByFilter,a=e.filteredPosts;return r.a.createElement("div",null,r.a.createElement("label",{className:"search",htmlFor:""},"Search:",r.a.createElement("input",{className:"search__field",value:t,onChange:n,type:"text"})),a.map(function(e){return r.a.createElement(C,{currentPost:e})}))},g=(n(19),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={currentPosts:[],isLoading:!1,isLoaded:!1,inputValue:"",filteredPosts:[]},n.getData=Object(m.a)(u.a.mark(function e(){var t,a,r,s,c,o,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,fetch("https://jsonplaceholder.typicode.com/posts");case 3:return t=e.sent,e.next=6,fetch("https://jsonplaceholder.typicode.com/users");case 6:return a=e.sent,e.next=9,fetch("https://jsonplaceholder.typicode.com/comments");case 9:return r=e.sent,e.next=12,t.json();case 12:return s=e.sent,e.next=15,a.json();case 15:return c=e.sent,e.next=18,r.json();case 18:o=e.sent,i=s.map(function(e){return Object(l.a)({},e,{user:c.find(function(t){return t.id===e.userId}),comments:o.filter(function(t){return e.id===t.postId})})}),n.setState({currentPosts:i,filteredPosts:i,isLoading:!1,isLoaded:!0});case 21:case"end":return e.stop()}},e)})),n.searchByFilter=function(e){var t=e.target.value;n.setState(function(e){return{inputValue:t,filteredPosts:Object(o.a)(e.currentPosts).filter(function(e){return e.title.includes(t)||e.body.includes(t)})}})},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"site__title"},"Dynamic list of posts"),this.state.isLoaded?r.a.createElement(P,{currentPosts:this.state.currentPosts,inputValue:this.state.inputValue,searchByFilter:this.searchByFilter,filteredPosts:this.state.filteredPosts}):r.a.createElement(b,{isLoading:this.state.isLoading,getData:this.getData}))}}]),t}(r.a.Component));c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.effeb06c.chunk.js.map